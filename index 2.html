<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–ì—Ä–∞ –∑ –∫—É–ª—å–∫–∞–º–∏</title>
  <style>
    body { margin: 0; overflow: hidden; font-family: sans-serif; }
    #target-color {
      position: absolute;
      top: 20px;
      left: 20px;
      font-size: 24px;
      padding: 10px;
      background: white;
      border-radius: 10px;
      z-index: 10;
    }
    canvas { display: block; background: #f0f0f0; }
  </style>
</head>
<body>
  <div id="target-color">–¶—ñ–ª—å: </div>
  <canvas id="gameCanvas" width="800" height="600"></canvas>

  <script>
    const COLORS = ['red', 'orange', 'yellow', 'green', 'skyblue', 'blue', 'purple'];
    const targetColor = COLORS[Math.floor(Math.random() * COLORS.length)];
    document.getElementById('target-color').innerText = '–¶—ñ–ª—å: ' + targetColor;

    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    let balls = [];

    // üéØ –ì–µ–Ω–µ—Ä—É—î–º–æ —Å–ø–∏—Å–æ–∫ –∑ 10 –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö —ñ 20 –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –∫—É–ª—å–æ–∫
    let winningBalls = Array(10).fill(targetColor);
    let nonTargetBalls = [];
    while (nonTargetBalls.length < 20) {
      let c = COLORS[Math.floor(Math.random() * COLORS.length)];
      if (c !== targetColor) nonTargetBalls.push(c);
    }

    let totalBalls = winningBalls.concat(nonTargetBalls);
    totalBalls.sort(() => Math.random() - 0.5); // –ü–µ—Ä–µ–º—ñ—à—É—î–º–æ

    // üì• –î–æ–¥–∞—î–º–æ –∫—É–ª—å–∫–∏ –ø–æ—Å—Ç—É–ø–æ–≤–æ
    let ballIndex = 0;
    let ballTimer = 0;

    let caught = 0;

    function createBall(color, x, y) {
      return {
        x, y,
        color,
        radius: 20,
        speed: 3 + Math.random() * 2, // –≤–∏–ø–∞–¥–∫–æ–≤–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å
      };
    }

    function drawBall(ball) {
      ctx.beginPath();
      ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
      ctx.fillStyle = ball.color;
      ctx.fill();
      ctx.closePath();
    }

    function update() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // üéØ –î–æ–¥–∞—î–º–æ –Ω–æ–≤—É –∫—É–ª—å–∫—É –∫–æ–∂–Ω—ñ 20-40 –∫–∞–¥—Ä—ñ–≤
      ballTimer++;
      if (ballTimer > 20 + Math.random() * 20 && ballIndex < totalBalls.length) {
        let x = Math.random() * (canvas.width - 40) + 20;
        balls.push(createBall(totalBalls[ballIndex++], x, 0));
        ballTimer = 0;
      }

      // üé¨ –û–Ω–æ–≤–ª—é—î–º–æ –≤—Å—ñ –∫—É–ª—å–∫–∏
      for (let i = 0; i < balls.length; i++) {
        balls[i].y += balls[i].speed;
        drawBall(balls[i]);

        // –Ø–∫—â–æ –∫—É–ª—å–∫–∞ –∑–Ω–∏–∫–ª–∞ –∑–∞ –º–µ–∂–∞–º–∏ –µ–∫—Ä–∞–Ω–∞ ‚Äî –≤–∏–¥–∞–ª—è—î–º–æ
        if (balls[i].y - balls[i].radius > canvas.height) {
          balls.splice(i, 1);
          i--;
        }
      }

      // üèÅ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –≤–∏–≥—Ä–∞—à / –ø—Ä–æ–≥—Ä–∞—à
      if (caught >= 10) {
        alert("üéâ –¢–∏ –≤–∏–≥—Ä–∞–≤!");
        return;
      }

      if (ballIndex >= totalBalls.length && balls.length === 0) {
        alert("üòû –ü—Ä–æ–≥—Ä–∞—à!");
        return;
      }

      requestAnimationFrame(update);
    }

    // üñ±Ô∏è –û–±—Ä–æ–±–∫–∞ –∫–ª—ñ–∫—ñ–≤
    canvas.addEventListener('click', function(e) {
      const rect = canvas.getBoundingClientRect();
      const clickX = e.clientX - rect.left;
      const clickY = e.clientY - rect.top;

      for (let i = 0; i < balls.length; i++) {
        const b = balls[i];
        const dx = clickX - b.x;
        const dy = clickY - b.y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        if (dist <= b.radius) {
          if (b.color === targetColor) {
            caught++;
          }
          balls.splice(i, 1);
          break;
        }
      }
    });

    update();
  </script>
</body>–Ü–Ü
</html>
–í–∏–¥–∞–ª–µ–Ω–Ω—è index 2.html
